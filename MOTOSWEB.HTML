<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurador Cafe Racer 3D</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    
    <style>
        body { margin: 0; font-family: sans-serif; background-color: #1a1a1a; color: white; }
        model-viewer { width: 100vw; height: 80vh; background-color: #222; }
        
        .controls {
            padding: 20px;
            display: flex;
            gap: 10px;
            justify-content: center;
            background: #111;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
        }

        .btn-color { background-color: #ff4444; color: white; }
        .btn-color:hover { opacity: 0.8; }
    </style>
</head>
<body>

    <model-viewer id="moto-3d" 
        src="https://modelviewer.dev/shared-assets/models/Astronaut.glb" 
        camera-controls 
        auto-rotate 
        shadow-intensity="1" 
        ar 
        touch-action="pan-y">
        
        <div slot="poster">Cargando tu Cafe Racer...</div>
    </model-viewer>

    <div class="controls">
        <h3>Color Tanque:</h3>
        <button class="btn-color" style="background: #e74c3c;" onclick="changeColor('#e74c3c')">Rojo Racing</button>
        <button class="btn-color" style="background: #2c3e50;" onclick="changeColor('#2c3e50')">Negro Mate</button>
        <button class="btn-color" style="background: #27ae60;" onclick="changeColor('#27ae60')">Verde Británico</button>
    </div>

    <script>
        const modelViewer = document.querySelector('#moto-3d');

        // Función mágica para cambiar el color de una pieza específica
        function changeColor(color) {
            // "Material[0]" es el primer material que encuentre el modelo. 
            // En Blender debes nombrar el material del tanque como 'Tanque'
            const material = modelViewer.model.materials[0]; 
            material.pbrMetallicRoughness.setBaseColorFactor(color);
        }
    </script>

</body>
</html>